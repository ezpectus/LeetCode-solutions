## Problem: 2223. Sum of Scores of Built Strings

### üìú Description
You build a string `s` by prepending characters one by one.  
Each intermediate string `si` is compared to the final string `sn == s`.  
The **score** of `si` is the length of the **longest common prefix** between `si` and `s`.  
Return the **sum of all scores**.

---

### üß© Constraints
- `1 <= s.length <= 10^5`
- `s` consists of lowercase English letters

---

## üí° Idea

- Each `si` is a **suffix** of `s`
- We need to compute `LCP(si, s)` for all `i`
- This is exactly what the **Z-array** gives:
  - `Z[i] = LCP(s[i:], s)`
- So the total score is `sum(Z) + Z[0]` (since `Z[0] == s.Length`)

---

## üß± Code (C#)

```csharp
//Z-Algorithm
public class Solution {
    public long SumScores(string s) {
        int n = s.Length;
        int[] z = new int[n];
        int l = 0, r = 0;

        for (int i = 1; i < n; i++) {
            if (i <= r)
                z[i] = Math.Min(r - i + 1, z[i - l]);

            while (i + z[i] < n && s[z[i]] == s[i + z[i]])
                z[i]++;

            if (i + z[i] - 1 > r) {
                l = i;
                r = i + z[i] - 1;
            }
        }

        long total = n; // Z[0] == full match
        foreach (int val in z)
            total += val;

        return total;
    }
}
```

## ‚è±Ô∏è Complexity
- Time: O(n)
- Space: O(n)

## üß† Key Tricks
- Z-algorithm ‚Üí computes all LCPs with s
- Z[i] = length of common prefix between s and s[i:]
- Sum all Z[i] + Z[0] to get total score

---
