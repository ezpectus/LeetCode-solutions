# 483. Smallest Good Base — Summary

---

## Problem Restatement
We need the smallest base `k ≥ 2` such that the given number `n` (string input) is represented as all `1`s in base `k`.

---

## Key Idea
If `n` in base `k` is all `1`s, then:

```n = 1 + k + k^2 + ... + k^m```

This is a geometric series:```n = (k^(m+1) - 1) / (k - 1)```

- `m` is the number of digits minus 1.  
- We want the smallest possible base `k`.

### Approach
1. Convert `n` to a long integer.  
2. Maximum possible length is `log2(n)` because base ≥ 2.  
3. For each possible length `m` (from largest down to 1):  
   - Use binary search to find base `k`.  
   - Check if the geometric sum equals `n`.  
4. If no base found, return `n - 1` (since `n` in base `n-1` is always `11`).  

---

## Code (C#)
```csharp
public class Solution {
    public string SmallestGoodBase(string n) {
        long num = long.Parse(n);
        int maxM = (int)(Math.Log(num) / Math.Log(2));

        for (int m = maxM; m >= 1; m--) {
            long left = 2, right = (long)Math.Pow(num, 1.0 / m) + 1;
            while (left <= right) {
                long mid = left + (right - left) / 2;
                long sum = 1, curr = 1;
                for (int i = 0; i < m; i++) {
                    curr *= mid;
                    sum += curr;
                    if (sum > num) break;
                }
                if (sum == num) return mid.ToString();
                if (sum < num) left = mid + 1;
                else right = mid - 1;
            }
        }
        return (num - 1).ToString();
    }
}
```


## Complexity
- **Time:** O(log² n), because we try up to log₂(n) possible lengths and perform binary search for each.  
- **Space:** O(1), only a few variables are used.  

---

## Example Walkthrough

**Input:** `n = "13"`  
- Try m = 2 → base = 3 works: `1 + 3 + 9 = 13`.  
- **Answer = "3" ✅**

**Input:** `n = "4681"`  
- Found base = 8: `1 + 8 + 64 + 512 + 4096 = 4681`.  
- **Answer = "8" ✅**

**Input:** `n = "1000000000000000000"`  
- No smaller base works.  
- **Answer = "999999999999999999" ✅**

---

## Conclusion
The solution applies **geometric series + binary search** to determine the smallest good base.  
- Efficient even for extremely large inputs (up to 10^18).  
- Guarantees correctness by systematically checking possible sequence lengths.  


---

