# 470. Implement Rand10() Using Rand7()

---

## Problem Restatement
We are given an API `Rand7()` that returns a uniform random integer in the range [1,7].  
We must implement `Rand10()` that returns a uniform random integer in the range [1,10].  
We can only call `Rand7()`.

---

## Key Idea
- `Rand7()` gives numbers 1–7 uniformly.  
- To generate 1–10 uniformly, we need a larger uniform range that can be mapped to 1–10.  
- Use **rejection sampling**:
  - Generate a number in [1,49] using `(Rand7()-1)*7 + Rand7()`.  
  - If the number ≤ 40, map it to [1,10] using `(num-1) % 10 + 1`.  
  - If > 40, reject and repeat.  

This ensures uniform distribution.

---

## Code (C#)
```csharp
public class Solution : SolBase {
    public int Rand10() {
        while (true) {
            int num = (Rand7() - 1) * 7 + Rand7(); // uniform in [1,49]
            if (num <= 40) {
                return (num - 1) % 10 + 1; // uniform in [1,10]
            }
            // otherwise reject and retry
        }
    }
}
```



## Time Complexity
- **Expected:** O(1).  
- Each attempt generates a number in [1,49].  
- Probability of acceptance = 40/49 ≈ 81.6%.  
- Expected number of calls to `Rand7()` ≈ 2.45.  

---

## Space Complexity
- **Constant extra storage:** Only a few integer variables.  
- **Overall:** O(1).  

---

## Example Walkthrough

### Example 1
**Input:** n = 1  
- Suppose `Rand7()` calls generate `num = 12`.  
- Since 12 ≤ 40, map → `(12-1)%10+1 = 2`.  
✅ Output = `[2]`  

---

### Example 2
**Input:** n = 2  
- First call → `num = 18` → maps to 8.  
- Second call → `num = 30` → maps to 2.  
✅ Output = `[2,8]`  

---

### Example 3
**Input:** n = 3  
- Calls generate numbers mapping to `[3,8,10]`.  
✅ Output = `[3,8,10]`  

---

## Why This Works
- `(Rand7()-1)*7 + Rand7()` expands the range to [1,49] uniformly.  
- Rejecting values > 40 ensures fair mapping to [1,10].  
- Each number in 1–10 has equal probability.  

---

✅ **Conclusion**  
This is the **Rejection Sampling Algorithm**.  
By expanding `Rand7()` to cover [1,49] and mapping fairly to [1,10], we achieve uniform distribution with **expected O(1) time** and **O(1) space**.


---
