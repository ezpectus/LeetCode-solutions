#  1658. Minimum Operations to Reduce X to Zero

---

##  Problem Summary
We are given:
- Array `nums` of length `n`.
- Integer `x`.

Rules:
- In one operation, remove either the leftmost or rightmost element and subtract its value from `x`.
- Goal: reduce `x` to exactly 0 with minimum operations.
- If impossible, return `-1`.

---

##  Core Idea
- Equivalent to: remove some prefix and some suffix whose sum = `x`.  
- Another perspective: keep a **middle subarray** whose sum = `totalSum - x`.  
- Then answer = `n - lengthOfLongestSubarrayWithSum(totalSum - x)`.  
- Use **sliding window** to find longest subarray with sum = `totalSum - x`.

---

##  C# Implementation
```csharp
public class Solution {
    public int MinOperations(int[] nums, int x) {
        int n = nums.Length;
        int total = 0;
        foreach (int v in nums) total += v;

        int target = total - x;
        if (target < 0) return -1; // cannot reach

        int left = 0;
        int curr = 0;
        int maxLen = -1;

        for (int right = 0; right < n; right++) {
            curr += nums[right];

            while (curr > target && left <= right) {
                curr -= nums[left++];
            }

            if (curr == target) {
                maxLen = Math.Max(maxLen, right - left + 1);
            }
        }

        return maxLen == -1 ? -1 : n - maxLen;
    }
}
```

---

##  Complexity
- **Total sum computation:** O(n)  
  Compute the sum of all elements once.  
- **Sliding window:** O(n)  
  Find the longest subarray with sum = `total - x`.  
- **Total:** O(n)  
  Linear time complexity.  
- **Space:** O(1)  
  Only a few variables are used, no extra arrays.

---

##  Pitfalls
- **Negative target:** If `target < 0`, impossible → return `-1`.  
- **No valid subarray:** If no subarray with sum = `target` exists, return `-1`.  
- **Window shrinking:** Be careful when `curr > target` to avoid off‑by‑one errors.  
- **Edge case:** If `x == total`, answer = `n` (remove all elements).  

---

##  Example Walkthrough
**Input:**  
`nums = [1,1,4,2,3]`, `x = 5`

**Step 1: Total sum**  
`total = 11`

**Step 2: Target**  
`target = total - x = 6`

**Step 3: Longest subarray with sum = 6**  
- `[1,1,4]` → sum = 6, length = 3  
- This is the longest valid subarray.

**Step 4: Answer**  
`n - maxLen = 5 - 3 = 2`

**Output:**  
`2`

---

## Conclusion
- Reduce the problem to finding the longest subarray with sum = `total - x`.  
- Sliding window solves it in O(n) with O(1) space.  
- Efficient, simple, and robust for large inputs up to 10^5.  



---

