#  2024. Maximize the Confusion of an Exam

---


##  Problem Summary
We are given:
- A string `answerKey` of length `n` consisting of `'T'` and `'F'`.
- An integer `k`, the maximum number of flips allowed.

Goal:
- Maximize the length of consecutive identical answers (`'T'` or `'F'`) after at most `k` flips.

---

##  Core Idea
- We want the longest substring that can be turned into all `'T'` or all `'F'` with ≤ `k` flips.  
- Use **sliding window**:
  - Maintain a window `[left..right]`.
  - Count how many `'F'`s (if we target `'T'`) or `'T'`s (if we target `'F'`) are inside.  
  - If count > k, shrink window from left.  
- Compute maximum window length for both targets (`'T'` and `'F'`).  
- Answer = max of the two.

---

##  C# Implementation
```csharp
public class Solution {
    public int MaxConsecutiveAnswers(string answerKey, int k) {
        return Math.Max(MaxConsecutiveChar(answerKey, k, 'T'),
                        MaxConsecutiveChar(answerKey, k, 'F'));
    }

    private int MaxConsecutiveChar(string s, int k, char target) {
        int left = 0, maxLen = 0, flips = 0;
        for (int right = 0; right < s.Length; right++) {
            if (s[right] != target) flips++;

            while (flips > k) {
                if (s[left] != target) flips--;
                left++;
            }

            maxLen = Math.Max(maxLen, right - left + 1);
        }
        return maxLen;
    }
}
```


---

##  Complexity
- **Time:** O(n)  
  Two sliding window passes are required (one targeting `'T'`, one targeting `'F'`).  
- **Space:** O(1)  
  Only counters and pointers are maintained, no extra data structures.  

---

##  Pitfalls
- **Dual targets:** Must evaluate both cases — converting to all `'T'` and converting to all `'F'`.  
- **Window shrinking:** Ensure the left pointer moves correctly when flips exceed `k`.  
- **Edge case:** If `k >= n`, the entire string can be flipped → answer = `n`.  
- **Large input:** Algorithm must handle strings up to 5×10^4 efficiently.  

---

##  Example Walkthrough
**Input:**  
`answerKey = "TTFF"`, `k = 2`

**Target `'T'`:**  
- Flip both `'F'` → `"TTTT"`  
- Length = 4  

**Target `'F'`:**  
- Flip both `'T'` → `"FFFF"`  
- Length = 4  

**Answer:**  
`4`

**Output:**  
`4`

---

## Conclusion
- The task reduces to finding the longest substring that can be converted to all `'T'` or all `'F'`.  
- Sliding window provides an O(n) solution with O(1) space.  
- This method is efficient, simple, and robust for large inputs.  



---
