#  1423. Maximum Points You Can Obtain from Cards

---

##  Problem Summary
We are given:
- An integer array `cardPoints` of length `n`.
- An integer `k`.

Rules:
- In one step, you can take one card from the beginning or from the end of the row.
- You must take exactly `k` cards.
- Your score is the sum of the points of the cards you have taken.

Goal:
- Return the maximum score you can obtain.

---

##  Core Idea
- Equivalent to: choose `k` cards from either end.  
- Another perspective: leave exactly `n - k` consecutive cards unchosen.  
- Then maximize score = total sum of all cards − minimum sum of a subarray of length `n - k`.  
- Use **sliding window** to find the minimum subarray sum of length `n - k`.

---

##  C# Implementation
```csharp
public class Solution {
    public int MaxScore(int[] cardPoints, int k) {
        int n = cardPoints.Length;
        int total = 0;
        foreach (int x in cardPoints) total += x;

        if (k == n) return total;

        int windowSize = n - k;
        int windowSum = 0;
        for (int i = 0; i < windowSize; i++) {
            windowSum += cardPoints[i];
        }

        int minSum = windowSum;
        for (int i = windowSize; i < n; i++) {
            windowSum += cardPoints[i] - cardPoints[i - windowSize];
            minSum = Math.Min(minSum, windowSum);
        }

        return total - minSum;
    }
}
```
---

##  Complexity
- **Total sum computation:** O(n)  
  Compute the sum of all cards once.  
- **Sliding window:** O(n)  
  Find the minimum subarray sum of length `n - k` using a single pass.  
- **Total:** O(n)  
  Linear time complexity.  
- **Space:** O(1)  
  Only a few variables are needed, no extra arrays.

---

##  Pitfalls
- **Edge case:** If `k == n`, return the sum of all cards directly.  
- **Window size:** Must cover exactly `n - k` cards, not more or less.  
- **Large values:** Each `cardPoints[i]` ≤ 10^4, total sum ≤ 10^9, fits safely in `int`.  
- **Indexing:** Be careful when sliding the window to avoid off‑by‑one errors.

---

##  Example Walkthrough
**Input:**  
`cardPoints = [1,2,3,4,5,6,1]`, `k = 3`

**Step 1: Total sum**  
`22`

**Step 2: Window size**  
`n - k = 7 - 3 = 4`

**Step 3: Minimum subarray sum of length 4**  
`[3,4,5,6]` → sum = 18  
`[2,3,4,5]` → sum = 14  
`[1,2,3,4]` → sum = 10 ← minimum  

**Step 4: Answer**  
`22 − 10 = 12`

**Output:**  
`12`

---

##  Conclusion
- The problem reduces to finding the minimum sum subarray of length `n - k`.  
- Sliding window provides an O(n) solution with O(1) extra space.  
- This approach is efficient, simple, and robust for large inputs.  



---

