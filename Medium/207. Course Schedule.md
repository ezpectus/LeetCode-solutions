# Pattern Name  
Kahn-style Topological Sort â€” Cycle Detection via Indegree BFS

---

## Problem Summary

You are given `numCourses` and a list of `prerequisites`, where each pair `[a, b]` means you must take course `b` before course `a`.  
Return `true` if it is possible to finish all courses (i.e., the graph has no cycles), otherwise return `false`.

---

## Core Idea

This is a **topological sort** problem using **Kahn's algorithm** via BFS.  
We build a directed graph and track the **indegree** of each node.  
Courses with `indegree == 0` are added to a queue.  
As we process each course, we decrement the indegree of its neighbors.  
If all courses are processed, the graph is acyclic and all courses can be finished.

---

## C# Implementation

```csharp
public class Solution {
    public bool CanFinish(int numCourses, int[][] prerequisites) {
        List<int>[] adjList = new List<int>[numCourses];
        for (int i = 0; i < numCourses; i++) adjList[i] = new List<int>();

        foreach (var pair in prerequisites)
            adjList[pair[1]].Add(pair[0]);

        int[] indegree = new int[numCourses];
        for (int i = 0; i < numCourses; i++)
            foreach (int j in adjList[i])
                indegree[j]++;

        var q = new Queue<int>();
        for (int i = 0; i < numCourses; i++)
            if (indegree[i] == 0) q.Enqueue(i);

        int count = q.Count;
        while (q.Count > 0) {
            int curr = q.Dequeue();
            foreach (int n in adjList[curr]) {
                if (--indegree[n] == 0) {
                    q.Enqueue(n);
                    count++;
                }
            }
        }

        return count == numCourses;
    }
}
```

## Time and Space Complexity

| Metric           | Value       | Explanation                                  |
|------------------|-------------|----------------------------------------------|
| Time Complexity  | O(n + e)    | Traverse all nodes and edges                 |
| Space Complexity | O(n + e)    | Adjacency list + indegree array + queue      |

---

## Generalization to Other Problems

This pattern applies to problems where:

- You detect cycles in a directed graph  
- You schedule tasks with dependency constraints  
- You use indegree tracking and BFS traversal

---

## Examples of Similar Problems

| Problem Type         | Description                                         |
|----------------------|-----------------------------------------------------|
| Course Schedule II   | Return valid course order using topological sort    |
| Alien Dictionary     | Infer character order from word list                |
| Task Scheduling      | Determine if all tasks can be completed             |

---

## Final Takeaway

This solution uses:

- Adjacency list to represent the graph  
- Indegree array to track dependencies  
- Queue-based BFS to process nodes with no prerequisites  
- Cycle detection via node count comparison

The result is a clean and efficient solution for any task involving  
**dependency resolution and cycle detection in directed graphs**.

---
