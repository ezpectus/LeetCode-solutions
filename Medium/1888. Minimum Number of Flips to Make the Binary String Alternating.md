# 1888. Minimum Number of Flips to Make the Binary String Alternating

---

##  Problem Summary
We are given a binary string `s`.  
Allowed operations:
1. **Rotate**: remove the first character and append it to the end.  
2. **Flip**: change any character (`0 → 1` or `1 → 0`).  

Goal:  
Find the minimum number of **flips** (operation type‑2) required to make the string alternating, after any number of rotations.

---

##  Core Idea
- Rotations mean we can treat the string as **circular**.  
- To handle rotations efficiently:
  - Concatenate the string with itself (`s + s`).  
  - Then check all substrings of length `n` (original length).  
- For each substring, compute how many flips are needed to match either:
  - Pattern `"010101..."`  
  - Pattern `"101010..."`  
- Use **sliding window** to maintain mismatch counts.  
- Answer = minimum flips across all windows.

---

##  C# Implementation
```csharp
public class Solution {
    public int MinFlips(string s) {
        int n = s.Length;
        string doubled = s + s;

        // Build two alternating patterns of length 2n
        char[] alt1 = new char[2 * n];
        char[] alt2 = new char[2 * n];
        for (int i = 0; i < 2 * n; i++) {
            alt1[i] = (i % 2 == 0) ? '0' : '1';
            alt2[i] = (i % 2 == 0) ? '1' : '0';
        }

        int res = n; // upper bound
        int diff1 = 0, diff2 = 0;
        int left = 0;

        for (int right = 0; right < 2 * n; right++) {
            if (doubled[right] != alt1[right]) diff1++;
            if (doubled[right] != alt2[right]) diff2++;

            if (right - left + 1 > n) {
                if (doubled[left] != alt1[left]) diff1--;
                if (doubled[left] != alt2[left]) diff2--;
                left++;
            }

            if (right - left + 1 == n) {
                res = Math.Min(res, Math.Min(diff1, diff2));
            }
        }

        return res;
    }
}
```

---

##  Complexity
- **Time:** O(n)  
  Single sliding window pass over `2n` characters.  
- **Space:** O(n)  
  Needed to store alternating patterns for comparison.  

---

##  Pitfalls
- **Two patterns:** Must check both `"010..."` and `"101..."`.  
- **Circular handling:** Concatenate string to itself to simulate rotations.  
- **Window size:** Ensure sliding window length is exactly `n`.  
- **Already alternating:** If the string is alternating from the start, answer = 0.  

---

##  Example Walkthrough
**Input:**  
`s = "111000"`, `n = 6`

**Step 1: Double string**  
`"111000111000"`

**Step 2: Sliding window of length 6**  
- Compare each window against both alternating patterns.  
- Best window requires 2 flips.  

**Output:**  
`2`

---

##  Conclusion
- Treat the string as circular by doubling it.  
- Use sliding window to evaluate all rotations against two alternating patterns.  
- Efficient O(n) solution, robust for strings up to 10^5.  




---


