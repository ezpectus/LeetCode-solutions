# 789. Escape The Ghosts — Architectural Manhattan Distance Comparison  
*O(n) — Pure Geometric Insight*

---

## Problem Statement

You start at `[0, 0]`, target at `[xtarget, ytarget]`.

Ghosts start at positions `ghosts[i]`.

Each turn, **everyone** (you + all ghosts) moves **1 step** in 4 directions or stays.

You **escape** if you reach target **before** any ghost can reach you.

- If you and a ghost arrive at the same time → **ghost catches you** → fail

Return `true` if you can escape **no matter how ghosts move**.

---

## Core Idea — Manhattan Distance is King

Since movement is **grid-based** (4 directions), distance = **Manhattan distance**:
```dist(A, B) = |Ax - Bx| + |Ay - By|```

**You reach target** in exactly `dist_you = dist([0,0], target)` steps.

**A ghost reaches you** if it can reach target in **≤ dist_you** steps.

**To escape**: **no ghost** should be able to reach target in **≤ dist_you** steps.

**Answer**:
```return all ghosts have dist(ghost, target) > dist_you```

**No simulation. No BFS. Pure math.**

---

## Implementation (C#)

```csharp
public class Solution {
    public bool EscapeGhosts(int[][] ghosts, int[] target) {
        int distYou = Math.Abs(target[0]) + Math.Abs(target[1]);

        foreach (var g in ghosts) {
            int distGhost = Math.Abs(g[0] - target[0]) + Math.Abs(g[1] - target[1]);
            if (distGhost <= distYou)  return false;
        }

        return true;
    }
}
```

## Complexity

| **Metric**     | **Value**   | **Notes**                          |
|----------------|-------------|------------------------------------|
| **Time**       | **O(n)**    | n = ghosts count                   |
| **Space**      | **O(1)**    | Only a few variables               |

**Optimal** — nothing faster possible.

---

## Why This Works — Proof

- **You must take exactly `distYou` steps** to reach target (shortest path in grid)
- **Any ghost** that can reach target in **≤ `distYou`** steps can **intercept** you at target (arrive same time or earlier and wait)
- **Ghosts cannot move faster** than 1 step per turn
- **Manhattan distance is exact** on grid with 4-direction movement — no shorter path exists

**Manhattan distance** (`|x1-x2| + |y1-y2|`) is **perfect** here because:
- Movement is restricted to **up/down/left/right**
- No diagonals → Manhattan = true minimal steps
- Wrap-around doesn't exist — infinite grid

**If all ghosts need strictly more steps** → you arrive first → **escape**  
**If any ghost needs ≤ steps** → it can arrive same time or earlier → **caught**

**Bidirectional movement doesn't help** — ghosts can't block your path (they only win by reaching target ≤ your time).

**No game theory. No simulation. Pure geometry.**

---

## Pitfalls & Edge Cases

- **Ghost at `[0,0]`** → `distGhost = distYou` → false (catches you at start)
- **Ghost at `target`** → `distGhost = 0 ≤ distYou` → false
- **Ghost farther away** → safe
- **Multiple ghosts** → must check **all**
- **Ghost on your path but slower** → irrelevant (only target matters)

All handled perfectly.

---

## Key Takeaway

This is a **masterpiece of geometric insight**:

- Reduce movement to **Manhattan distance**
- Compare **your distance** vs **every ghost's distance** to target
- **No game theory. No simulation.**

**One move calculation** → answer.
**One of the most elegant Medium problems** — solved with **pure math**.

---
