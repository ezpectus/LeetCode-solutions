# 1011. Capacity To Ship Packages Within D Days

---

## Problem Restatement
We need to find the **minimum ship capacity** such that all packages (in order) can be shipped within `days` days.  
- Each day, we load packages sequentially until capacity is reached.  
- If capacity is too small, more days are needed.  
- Goal: minimize capacity while ensuring ≤ `days`.

---

## Key Insight
This is a **binary search on the answer** problem.

### Step 1: Bounds
- Minimum capacity = `max(weights)` (must fit the heaviest package).  
- Maximum capacity = `sum(weights)` (ship all in one day).  

### Step 2: Binary Search
- Check mid capacity.  
- Simulate shipping: count days needed.  
- If days needed ≤ `days`, capacity is feasible → search left.  
- Otherwise, search right.

---

## Code (C#)
```csharp
public class Solution {
    public int ShipWithinDays(int[] weights, int days) {
        int left = weights.Max();       // minimum capacity
        int right = weights.Sum();      // maximum capacity

        while (left < right) {
            int mid = left + (right - left) / 2;

            if (CanShip(weights, days, mid)) {
                right = mid; // try smaller capacity
            } else {
                left = mid + 1; // need larger capacity
            }
        }

        return left;
    }

    private bool CanShip(int[] weights, int days, int capacity) {
        int usedDays = 1;
        int currentLoad = 0;

        foreach (int w in weights) {
            if (currentLoad + w > capacity) {
                usedDays++;
                currentLoad = 0;
            }
            currentLoad += w;
        }

        return usedDays <= days;
    }
}
```


## Complexity
- **Time:** O(n log(sum(weights)))  
  - Each binary search step requires simulating the shipping process in O(n).  
- **Space:** O(1), only a few variables are used.  

---

## Example Walkthrough
**Input:** `weights = [1,2,3,4,5,6,7,8,9,10], days = 5`

- left = 10 (max weight), right = 55 (sum of weights).  
- mid = 32 → feasible (needs 2 days).  
- mid = 21 → feasible (needs 3 days).  
- mid = 15 → feasible (needs 5 days).  
- mid = 14 → not feasible (needs 6 days).  

**Answer = 15 ✅**

---

## Conclusion
The problem reduces to **binary search on ship capacity**:  
- Lower bound = maximum package weight.  
- Upper bound = sum of all package weights.  
- Simulation checks feasibility for each candidate capacity.  

This yields an efficient **O(n log(sum))** solution, scalable to arrays of size up to 50,000.  



---
