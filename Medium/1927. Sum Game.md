# LeetCode 1927 — Sum Game  
**Approach: Mathematical reasoning on sums and question marks**

---

##  Problem Restatement
We have a string `num` of even length, consisting of digits and `'?'`.  
- Alice and Bob alternately replace `'?'` with digits `0–9`.  
- Alice wins if the sum of digits in the first half ≠ sum in the second half.  
- Bob wins if the sums are equal.  
We must determine if Alice will win assuming optimal play.

---

##  Core Idea
- Let `sumA` = sum of digits in first half, `qA` = number of `'?'` in first half.  
- Let `sumB` = sum of digits in second half, `qB` = number of `'?'` in second half.  
- If total number of `'?'` is odd → Alice wins (she has the last move and can force imbalance).  
- Otherwise, check if the difference in sums can be balanced by distributing digits optimally:  
  - Each unmatched `'?'` pair contributes at most `9` difference.  
  - If `sumA - sumB == 9 * (qB - qA)/2`, then Bob can balance → Bob wins.  
  - Otherwise, Alice wins.

---

##  Implementation (C#)

```csharp
public class Solution {
    public bool SumGame(string num) {
        int n = num.Length;
        int half = n / 2;

        int sumA = 0, qA = 0;
        for (int i = 0; i < half; i++) {
            char c = num[i];
            if (c == '?') qA++;
            else sumA += c - '0';
        }

        int sumB = 0, qB = 0;
        for (int i = half; i < n; i++) {
            char c = num[i];
            if (c == '?') qB++;
            else sumB += c - '0';
        }

        // Case 1: odd number of '?' → Alice wins
        if (((qA + qB) & 1) == 1) return true;

        // Case 2: check if sums can be balanced
        int diff = sumA - sumB;
        int k = (qB - qA) / 2;
        return diff != 9 * k;
    }
}
```


##  Time Complexity
- **Single pass over string:**  
  We iterate once to compute sums and counts of `'?'` in both halves.  
  → `O(n)`.

---

##  Space Complexity
- **Extra variables only:**  
  We store sums and counts in a few integers.  
  → `O(1)` constant space.

---

#  Impact of Design Choices

| Design Choice                  | Effect                                                                 |
|--------------------------------|------------------------------------------------------------------------|
| **Counting sums and '?'**      | Reduces the game to a simple arithmetic check instead of simulating moves. |
| **Odd '?' shortcut**           | Immediate win condition for Alice, avoids further computation.         |
| **Balance check with 9*k**     | Encodes Bob’s only chance to equalize sums mathematically.             |

---

#  Pitfalls
- **Forgetting odd `'?'` case:**  
  If total `'?'` is odd, Alice always wins.  
- **Miscomputing difference formula:**  
  Must use `(qB - qA) / 2` to represent how many pairs Bob can balance.  
- **Ignoring contribution of unmatched pairs:**  
  Each unmatched pair can shift sums by up to `9`.  

---

#  Conclusion
- **What it gives:** Determines winner under optimal play without simulating the entire game.  
- **Why it matters:** Reduces complex alternating-move game into a clean arithmetic condition.  
- **Key takeaway:**  
  1. Count sums and `'?'` in both halves.  
  2. Odd `'?'` → Alice wins immediately.  
  3. Otherwise, check balance condition `diff == 9 * k`.  
  4. If condition holds → Bob wins, else Alice wins.  


---


